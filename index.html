<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gestionale Antonio</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="app-header">
      <h1>Gestionale Antonio</h1>
      <p class="subtitle">Suite per NR, RA, CC e Catering</p>
    </header>

    <main class="app-main">
      <!-- Barra pulsanti (menu principale) -->
      <section class="buttons-grid">
        <button class="app-button" data-route="timbratura">Timbratura</button>
        <button class="app-button" data-route="dipendenti">Dipendenti</button>
        <button class="app-button" data-route="vendite">Vendite</button>
        <button class="app-button" data-route="preventivi">Preventivi</button>
        <button class="app-button" data-route="fatture">Fatture</button>
        <button class="app-button" data-route="cc">Centro Cottura</button>
        <button class="app-button" data-route="reintegro">Reintegro</button>
        <button class="app-button wide" data-route="report">Report</button>
        <button class="app-button wide" data-route="parametri">Parametri</button>
      </section>

      <!-- SCHERMATE -->

      <!-- TIMBRATURA -->
      <section id="view-timbratura" class="view">
        <h2>Timbratura</h2>
        <p>Registra entrata, pausa e uscita per dipendente e canale.</p>

        <form id="timbratura-form" class="timbratura-form" onsubmit="return false;">
          <div class="form-row">
            <label>
              Codice dipendente (PIN)
              <input
                type="password"
                id="timbratura-codice"
                placeholder="Inserisci codice (es. 1234)"
              />
            </label>
          </div>

          <div class="form-row">
            <label>
              Dipendente
              <select id="timbratura-dipendente-select">
                <option value="">-- seleziona dipendente --</option>
              </select>
            </label>
          </div>

          <div class="form-row">
            <label>
              Nome (auto)
              <input
                type="text"
                id="timbratura-dipendente"
                placeholder="Nome dipendente"
                readonly
              />
            </label>
          </div>

          <div class="form-row">
            <label>
              Canale
              <select id="timbratura-canale">
                <option value="NR">NR</option>
                <option value="RA">RA</option>
                <option value="CC">CC</option>
                <option value="CAT">CAT</option>
              </select>
            </label>
          </div>

          <div class="form-row buttons-row">
            <button type="button" id="btn-entra" class="app-button small green">
              Entra
            </button>
            <button type="button" id="btn-pausa" class="app-button small gray">
              Pausa
            </button>
            <button type="button" id="btn-esci" class="app-button small red">
              Uscita
            </button>
          </div>
        </form>

        <h3>Timbrature (tutte)</h3>
        <table class="table-timbrature">
          <thead>
            <tr>
              <th>Ora</th>
              <th>Dipendente</th>
              <th>Canale</th>
              <th>Azione</th>
            </tr>
          </thead>
          <tbody id="timbratura-lista"></tbody>
        </table>

        <div class="timbratura-form" style="margin-top: 12px;">
          <div class="form-row">
            <label>
              Periodo per riepilogo
              <select id="timbratura-periodo">
                <option value="oggi">Oggi</option>
                <option value="settimana">Ultimi 7 giorni</option>
                <option value="mese">Mese corrente</option>
              </select>
            </label>
          </div>
        </div>

        <h3>Riepilogo ore (per dipendente)</h3>
        <table class="table-timbrature">
          <thead>
            <tr>
              <th>Dipendente</th>
              <th>Canale</th>
              <th>Ore lavorate</th>
            </tr>
          </thead>
          <tbody id="riepilogo-dipendenti"></tbody>
        </table>

        <h3>Riepilogo ore (per canale)</h3>
        <table class="table-timbrature">
          <thead>
            <tr>
              <th>Canale</th>
              <th>Ore lavorate</th>
            </tr>
          </thead>
          <tbody id="riepilogo-canali"></tbody>
        </table>

        <h3>Attivi adesso</h3>
        <table class="table-timbrature">
          <thead>
            <tr>
              <th>Dipendente</th>
              <th>Canale</th>
              <th>Da quando</th>
              <th>Durata attuale</th>
            </tr>
          </thead>
          <tbody id="attivi-lista"></tbody>
        </table>
      </section>

      <!-- DIPENDENTI / ANAGRAFICA -->
      <section id="view-dipendenti" class="view" style="display: none;">
        <h2>Dipendenti</h2>
        <p>Anagrafica dipendenti con mansioni, costo orario e codice.</p>

        <form id="dipendente-form" class="timbratura-form" onsubmit="return false;">
          <div class="form-row">
            <label>
              Nome
              <input type="text" id="dip-nome" placeholder="Es. Mario Rossi" />
            </label>
          </div>

          <div class="form-row">
            <label>
              Mansione
              <input type="text" id="dip-mansione" placeholder="Es. Sala, Cucina..." />
            </label>
          </div>

          <div class="form-row">
            <label>
              Costo orario (€)
              <input
                type="number"
                id="dip-costo"
                placeholder="Es. 12.50"
                step="0.01"
                min="0"
              />
            </label>
          </div>

          <div class="form-row">
            <label>
              Codice accesso (PIN)
              <input
                type="text"
                id="dip-codice"
                placeholder="Es. 1234"
                maxlength="10"
              />
            </label>
          </div>

          <div class="form-row">
            <label>
              Canale prevalente
              <select id="dip-canale">
                <option value="NR">NR</option>
                <option value="RA">RA</option>
                <option value="CC">CC</option>
                <option value="CAT">CAT</option>
              </select>
            </label>
          </div>

          <div class="form-row">
            <label style="flex-direction: row; align-items: center; gap: 8px;">
              <input type="checkbox" id="dip-attivo" checked />
              Dipendente attivo
            </label>
          </div>

          <div class="form-row buttons-row">
            <button type="button" id="btn-add-dip" class="app-button small green">
              Aggiungi/aggiorna dipendente
            </button>
          </div>
        </form>

        <h3>Elenco dipendenti</h3>
        <table class="table-timbrature">
          <thead>
            <tr>
              <th>Nome</th>
              <th>Mansione</th>
              <th>Canale</th>
              <th>Costo €/h</th>
              <th>Codice</th>
              <th>Attivo</th>
              <th>Azioni</th>
            </tr>
          </thead>
          <tbody id="dipendenti-lista"></tbody>
        </table>
      </section>

      <!-- LE ALTRE VISTE PER ORA SONO PLACEHOLDER -->

      <section id="view-vendite" class="view" style="display: none;">
        <h2>Vendite</h2>
        <p>Qui inseriremo le vendite giornaliere per NR, RA e CAT.</p>
      </section>

      <section id="view-preventivi" class="view" style="display: none;">
        <h2>Preventivi Banchetti</h2>
        <p>Gestione preventivi, stati e trasformazione in eventi.</p>
      </section>

      <section id="view-fatture" class="view" style="display: none;">
        <h2>Fatture (Acquisti)</h2>
        <p>Inserimento fornitori, importi, mappatura PREP, aggiornamento costi.</p>
      </section>

      <section id="view-cc" class="view" style="display: none;">
        <h2>Centro Cottura (CC)</h2>
        <p>Anagrafica PREP, costi medi, BOM piatti, COGS dinamico.</p>
      </section>

      <section id="view-reintegro" class="view" style="display: none;">
        <h2>Reintegro & Magazzino</h2>
        <p>Livelli PAR, fabbisogni NR/RA, consegne CC → sale.</p>
      </section>

      <section id="view-report" class="view" style="display: none;">
        <h2>Report & KPI</h2>
        <p>Prime Cost %, Margine %, cruscotto Oggi.</p>
      </section>

      <section id="view-parametri" class="view" style="display: none;">
        <h2>Parametri</h2>
        <p>Gestione PIN, markup, Target Food Cost %, inclusioni Opex/POS/Lavoro CC.</p>
      </section>
    </main>

    <script src="app.js"></script>
  </body>
</html>

